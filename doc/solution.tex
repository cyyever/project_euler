\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{hyperref}
\usepackage[]{amsthm}
\usepackage[]{amssymb}
\usepackage{amsmath}

\newcommand{\problemsection}[1]{\section{\href{https://projecteuler.net/problem=#1}{Problem #1}}}
\title{Euler Project}
\author{Chen YuanYuan}

\begin{document}
\maketitle
\problemsection{330}
Recall that  \\
\[
  e=\sum_{i=0}^{\infty}\frac{1}{i!}
\]
And from the recurrnce, we have \\
\begin{align*}
  % \begin{split}
  a(0) & =e-1=\frac{A(0)e+B(0)}{0!} \\
\end{align*} \\
where $A(0)=1,B(0)=-1$, and \\
\begin{align*}
  a(n) & =\sum_{i=1}^{\infty}\frac{a(n-i)}{i!}                                                             \\
       & =\sum_{i=1}^{n}\frac{a(n-i)}{i!}+\sum_{i=n+1}^{\infty}\frac{1}{i!}                                \\
       & =\sum_{i=1}^{n}\frac{a(n-i)}{i!}+e-\sum_{i=0}^{n}\frac{1}{i!}                                     \\
       & =\sum_{i=1}^{n}\frac{A(n-i)e+B(n-i)}{i!(n-i)!}+e-\sum_{i=0}^{n}\frac{1}{i!}                       \\
       & =\sum_{i=1}^{n}\frac{\binom{n}{n-i}A(n-i)e+\binom{n}{n-i}B(n-i)}{n!}+e-\sum_{i=0}^{n}\frac{1}{i!} \\
\end{align*}
for $n\geq 1$.\\
Hence, we have
\begin{align*}
  A(n) & =\sum_{i=1}^{n}\binom{n}{n-i}A(n-i)+n!                                 \\
       & =\sum_{i=0}^{n-1}\binom{n}{i}A(i)+n!                                   \\
  % & =\sum_{i=0}^{n-2}\binom{n}{i}A(i)+nA(n-1)+n!                              \\
  % & =\sum_{i=0}^{n-2}(\binom{n-1}{i}+\binom{n-1}{i-1})A(i)+nA(n-1)+n!         \\
  % & =\sum_{i=0}^{n-3}\binom{n-1}{i}A(i)+(n+1)A(n-1)-(n-1)!+n!                 \\
  % & =A(n-2)-(n-2)!+\sum_{i=0}^{n-3}(\binom{n-1}{i})A(i)+(n+1)A(n-1)-(n-1)!+n! \\
  B(n) & =\sum_{i=1}^{n}\binom{n}{n-i}B(n-i)-\sum_{i=0}^{n}\frac{n!}{i!}        \\
       & =\sum_{i=0}^{n-1}\binom{n}{i}B(i)-\sum_{i=0}^{n}\frac{n!}{i!}          \\
       & =\sum_{i=0}^{n-1}\binom{n}{i}B(i)-n\sum_{i=0}^{n-1}\frac{(n-1)!}{i!}-1 \\
\end{align*} \\
Therefore, it can be solved by dynamic programming.



\end{document}
